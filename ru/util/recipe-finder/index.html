<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–ü–æ–∏—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ ‚Äì –ß—Ç–æ –±—É–¥–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã, –ø—Ä–æ—Å—Ç–æ –≤–≤–µ–¥—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ—Ç–µ–π, —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ä–µ—Ü–µ–ø—Ç—ã YouTube!" />
    <meta
      name="keywords"
      content="–ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã, –∫—É–ª–∏–Ω–∞—Ä–∏—è –¥–ª—è –¥–µ—Ç–µ–π, –ø–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤, –¥–æ–º–∞—à–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –ø—Ä–æ—Å—Ç–∞—è –∫—É–ª–∏–Ω–∞—Ä–∏—è, –±—ã—Å—Ç—Ä—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã" />
    <meta name="author" content="Itagi" />
    <meta name="language" content="ru" />
    <link rel="icon" href="https://emfls.github.io/icon-192.png" />
    <!-- SEO, Open Graph, Twitter, GA, AdSense –≤–∫–ª—é—á–µ–Ω—ã -->
    <meta property="og:title" content="–ü–æ–∏—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è –¥–µ—Ç–µ–π ‚Äì –ß—Ç–æ –±—É–¥–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å?" />
    <meta property="og:description" content="–í–≤–µ–¥–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å, –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ. –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://emfls.github.io/ru/util/recipe-finder/" />
    <meta property="og:image" content="https://emfls.github.io/thumbnail.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="–ü–æ–∏—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ ‚Äì –ß—Ç–æ –±—É–¥–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å?" />
    <meta name="twitter:description" content="–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º: –ø—Ä–æ—Å—Ç–æ –¥–ª—è –¥–µ—Ç–µ–π!" />
    <meta name="twitter:image" content="https://emfls.github.io/thumbnail.png" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QP5Q67GE5B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-QP5Q67GE5B");
    </script>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8830524482034754"
      crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css" />
    <!-- –í–Ω–µ—à–Ω—è—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤: recipes.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç window.RECIPES_DB –∏ window.INGREDIENTS_DB -->
    <script src="recipes.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="logo">üç≥ –ü–æ–∏—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤</div>
      <div class="desc">–ö–∞–∫–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã —É –≤–∞—Å –µ—Å—Ç—å?<br /><b>–ù–∞–ø–∏—à–∏—Ç–µ –∏—Ö –Ω–∏–∂–µ!</b></div>
      <span class="input-label">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</span>
      <div class="ingredient-input-box" id="ingredientWrap">
        <input
          type="text"
          class="ingredient-input"
          id="ingredientInput"
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —è–π—Ü–æ, —Å—ã—Ä, –º–æ–ª–æ–∫–æ"
          autocomplete="off" />
        <div class="autocomplete-box" id="autocompleteBox"></div>
      </div>
      <button class="search-btn" id="searchBtn">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã</button>
      <div class="recipes-list" id="recipesList"></div>
      <div class="footer"></div>
      <a href="../" id="backBtn">–î—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a>
    </div>
    <script>
      // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ recipes.js
      const RECIPES = window.RECIPES_DB || [];
      const INGREDIENTS = window.INGREDIENTS_DB || [];
      const ingredientInput = document.getElementById("ingredientInput");
      const ingredientWrap = document.getElementById("ingredientWrap");
      const autocompleteBox = document.getElementById("autocompleteBox");
      const searchBtn = document.getElementById("searchBtn");
      const recipesList = document.getElementById("recipesList");
      let selectedIngredients = [];

      // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
      function showAutocomplete(val) {
        autocompleteBox.innerHTML = "";
        if (!val) {
          autocompleteBox.style.display = "none";
          return;
        }
        const filtered = INGREDIENTS.filter(
          (ing) => ing.toLowerCase().startsWith(val.toLowerCase()) && !selectedIngredients.includes(ing)
        ).slice(0, 7);
        if (filtered.length === 0) {
          autocompleteBox.style.display = "none";
          return;
        }
        filtered.forEach((item) => {
          const div = document.createElement("div");
          div.className = "autocomplete-item";
          div.textContent = item;
          div.onclick = () => {
            addIngredient(item);
            ingredientInput.value = "";
            autocompleteBox.style.display = "none";
            ingredientInput.focus();
          };
          autocompleteBox.appendChild(div);
        });
        autocompleteBox.style.display = "block";
      }
      ingredientInput.addEventListener("input", () => showAutocomplete(ingredientInput.value.trim()));
      ingredientInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === ",") {
          e.preventDefault();
          const val = ingredientInput.value.trim().replace(/,+$/, "");
          if (val) addIngredient(val);
          ingredientInput.value = "";
          autocompleteBox.style.display = "none";
        }
      });
      document.addEventListener("click", (e) => {
        if (!ingredientWrap.contains(e.target)) autocompleteBox.style.display = "none";
      });

      function addIngredient(val) {
        val = val.toLowerCase().trim();
        if (!val || selectedIngredients.includes(val)) return;
        selectedIngredients.push(val);
        updateChips();
      }
      function removeIngredient(val) {
        selectedIngredients = selectedIngredients.filter((v) => v !== val);
        updateChips();
      }
      function updateChips() {
        ingredientWrap.querySelectorAll(".ingredient-chip").forEach((el) => el.remove());
        selectedIngredients.forEach((ing) => {
          const chip = document.createElement("div");
          chip.className = "ingredient-chip";
          chip.textContent = ing;
          const rm = document.createElement("span");
          rm.className = "chip-remove";
          rm.textContent = "√ó";
          rm.onclick = () => removeIngredient(ing);
          chip.appendChild(rm);
          ingredientWrap.insertBefore(chip, ingredientInput);
        });
      }

      // –ü–æ–∏—Å–∫ –∏ –ø–æ–∫–∞–∑ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ YouTube
      function showRecipes() {
        if (selectedIngredients.length === 0) {
          recipesList.innerHTML = `<div style="color:#aaa;font-size:1.11em;text-align:center;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã!</div>`;
          return;
        }
        const matches = RECIPES.map((r) => {
          const matched = r.ingredients.filter((i) => selectedIngredients.includes(i));
          return { name: r.name, matchedCount: matched.length, total: r.ingredients.length, matched, ingredients: r.ingredients };
        })
          .filter((r) => r.matchedCount > 0)
          .sort((a, b) => b.matchedCount - a.matchedCount || a.total - b.total);
        if (matches.length === 0) {
          recipesList.innerHTML = `<div style="color:#e57272;text-align:center;">–†–µ—Ü–µ–ø—Ç—ã —Å —ç—Ç–∏–º–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ!</div>`;
          return;
        }
        recipesList.innerHTML = matches
          .map(
            (r) => `
        <div class="recipe-card">
          <div class="recipe-title">${r.name}</div>
          <div class="match-info">–°–æ–≤–ø–∞–¥–∞—é—â–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: <b>${r.matchedCount}</b> / ${r.total}</div>
          <div class="all-ings">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã: ${r.ingredients
            .map((i) => (r.matched.includes(i) ? `<b style="color:#228e6f">${i}</b>` : i))
            .join(", ")}</div>
          <button class="yt-link-btn" onclick="window.open('https://www.youtube.com/results?search_query=${encodeURIComponent(r.name + " —Ä–µ—Ü–µ–ø—Ç")}', '_blank')">
            ‚ñ∂ –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ YouTube
          </button>
        </div>
      `
          )
          .join("");
      }
      searchBtn.onclick = showRecipes;
      ingredientInput.addEventListener("blur", () => {
        if (selectedIngredients.length) showRecipes();
      });

      // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
      showRecipes();
    </script>
    <section
      style="
        max-width: 320px;
        margin: 48px auto 24px auto;
        background: #1e1e1e;
        border-radius: 18px;
        box-shadow: 0 6px 24px #1236;
        padding: 18px;
      ">
      <div style="color: #8f94fb; font-size: 1.1em; font-weight: bold; margin-bottom: 12px">
        FAQ ‚Äì –ü–æ–∏—Å–∫ –ø—Ä–æ—Å—Ç—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤
      </div>

      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">–í: –ù—É–∂–Ω–æ –ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–ª–∏ –≤—Ö–æ–¥–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É?</div>
        <div style="color: #f0f0f0">
          –ù–µ—Ç. –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –∏ –≤—Å–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –í–∞—à–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.
        </div>
      </div>

      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">–í: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ —ç—Ç–æ –¥–ª—è –¥–µ—Ç–µ–π?</div>
        <div style="color: #f0f0f0">
          –î–∞. –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è, –∞ —Ä–µ–∫–ª–∞–º–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ—Ç–µ–π.
        </div>
      </div>

      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">–í: –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤?</div>
        <div style="color: #f0f0f0">
          –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤. –°—Å—ã–ª–∫–∏ YouTube –∏—â—É—Ç –≤–∏–¥–µ–æ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ä–µ—Ü–µ–ø—Ç–∞.
        </div>
      </div>

      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">–í: –ú–æ–≥—É –ª–∏ —è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤?</div>
        <div style="color: #f0f0f0">
          –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Å–ø–∏—Å–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, –Ω–æ –≤—Å–∫–æ—Ä–µ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–ø—Ä–æ—Å–∞ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏!
        </div>
      </div>

      <div>
        <div style="color: #8f94fb; font-weight: bold">–í: –ú–æ–≥—É –ª–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞?</div>
        <div style="color: #f0f0f0">
          –î–∞, –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–∫–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–∏–¥–µ–æ –Ω–∞ YouTube –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ).
        </div>
      </div>
    </section>
  </body>
</html>
