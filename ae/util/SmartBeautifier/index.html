<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>المجمّل الذكي (HTML/CSS/JS، مسافة تبويب فقط)</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <meta
      name="description"
      content="قم بلصق كود HTML أو CSS أو JavaScript العشوائي وسيتم تنسيقه فورًا بمسافة تبويب. معالجة على جهة العميل بنسبة 100٪، لا حاجة للرفع. مُجمّل كود ويب مجاني." />
    <meta
      name="keywords"
      content="تنسيق الكود، مُجمّل الكود، js beautifier، css beautifier، html beautifier، تنسيق الكود عبر الإنترنت، مسافة تبويب، تنظيف الكود، جهة عميل فقط، لا رفع، أداة ويب، أدوات مطور، مفتوح المصدر، تنسيق فوري" />
    <meta name="author" content="Itagi" />

    <!-- Open Graph (لمشاركة الوسائط الاجتماعية) -->
    <meta property="og:title" content="المجمّل الذكي – مُجمّل كود HTML/CSS/JS عبر الإنترنت" />
    <meta
      property="og:description"
      content="قم بلصق الكود العشوائي وسيتم تنسيقه تلقائيًا بمسافة تبويب. يتم المعالجة داخل المتصفح فقط، لذلك هو آمن. مجاني ومفتوح المصدر." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://emfls.github.io/ae/util/SmartBeautifier/" />
    <meta property="og:image" content="https://emfls.github.io/thumbnail.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="المجمّل الذكي – مُجمّل كود HTML/CSS/JS عبر الإنترنت" />
    <meta
      name="twitter:description"
      content="قم بلصق كود HTML أو CSS أو JS العشوائي وسيتم تنسيقه بمسافة تبويب. معالجة على جهة العميل بالكامل، لا حاجة للرفع." />
    <meta name="twitter:image" content="https://emfls.github.io/thumbnail.png" />
    <link rel="icon" href="https://emfls.github.io/icon-192.png" />

    <!-- Google Tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QP5Q67GE5B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-QP5Q67GE5B");
    </script>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8830524482034754"
      crossorigin="anonymous"></script>

    <style>
      html, body { margin: 0; padding: 0; background: #f6fcff; min-height: 100%; }
      body { font-family: "Segoe UI", Arial, sans-serif; min-height: 100vh; direction: rtl; }
      .container {
        max-width: 620px;
        margin: 38px auto 0 auto;
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 22px #13d2b033;
        padding: 28px 18px 22px 18px;
      }
      .logo {
        font-size: 1.25em;
        color: #19788a;
        font-weight: bold;
        margin-bottom: 6px;
        text-align: center;
      }
      .desc {
        color: #357890;
        text-align: center;
        margin-bottom: 18px;
        font-size: 0.98em;
      }
      .input-area,
      .output-area {
        width: 100%;
        box-sizing: border-box;
        min-height: 120px;
        border: 1.2px solid #cce9ef;
        border-radius: 9px;
        padding: 11px;
        font-size: 1em;
        background: #fafdff;
        font-family: "Fira Mono", "Menlo", monospace;
        resize: vertical;
        margin-bottom: 8px;
        line-height: 1.6;
        overflow-x: auto;
        direction: ltr;
      }
      .output-area { background: #e7f9f3; }
      .btn, .btn-copy {
        background: #1495c5;
        color: #fff;
        border: none;
        border-radius: 7px;
        padding: 10px 18px;
        margin: 10px 8px 0 0;
        cursor: pointer;
        font-size: 1.03em;
        transition: background 0.18s;
      }
      .btn:active, .btn-copy:active { background: #0b6180; }
      .info-msg {
        color: #1c9b56;
        font-size: 0.95em;
        margin: 6px 0 10px 0;
        text-align: center;
      }
      .footer {
        color: #789;
        text-align: center;
        font-size: 0.94em;
        margin-top: 22px;
        direction: ltr;
      }
      @media (max-width: 700px) {
        .container { max-width: 98vw; padding: 12px 2vw 14px 2vw; }
        .input-area, .output-area { font-size: 0.98em; }
      }
      #backBtn {
        position: fixed;
        left: 50%;
        bottom: 32px;
        transform: translateX(-50%);
        background: #13b6a7;
        color: #fff;
        font-weight: 700;
        border: none;
        border-radius: 2rem;
        padding: 0.58em 1.5em;
        box-shadow: 0 4px 16px #13d2b066;
        font-size: 1.09em;
        text-decoration: none;
        cursor: pointer;
        letter-spacing: 0.01em;
        transition: background 0.15s, transform 0.12s;
        z-index: 2000;
      }
      #backBtn:hover { background: #0e8078; transform: translateX(-50%) scale(1.04); }
      @media (max-width: 600px) {
        #backBtn { bottom: 18px; font-size: 0.98em; padding: 0.48em 1em; }
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/js-beautify@1.15.0/js/lib/beautify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-beautify@1.15.0/js/lib/beautify-css.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-beautify@1.15.0/js/lib/beautify-html.min.js"></script>
  </head>

  <body>
    <div class="container">
      <div class="logo">✨ المجمّل الذكي</div>
      <div class="desc">
        قم بلصق كود HTML أو CSS أو JavaScript العشوائي هنا.<br />
        سيتم التجميل تلقائيًا بمسافة <b>تبويب</b> لجعل الكود مرتبًا.<br />
        <span style="color: #19788a; font-size: 0.93em">المعالجة تتم بالكامل على جهة العميل، لا حاجة للرفع.</span>
      </div>
      <textarea
        id="inputArea"
        class="input-area"
        placeholder="قم بلصق كود HTML أو CSS أو JS هنا..."></textarea>
      <button class="btn" id="beautifyBtn">تجميل</button>
      <div style="margin-top: 8px; margin-bottom: 3px; font-size: 0.98em; color: #167088; text-align: center;">النتيجة:</div>
      <textarea
        id="outputArea"
        class="output-area"
        readonly
        placeholder="سيظهر الكود المُجمّل هنا"></textarea>
      <button class="btn-copy" id="copyBtn">نسخ</button>
      <div class="info-msg" id="infoMsg"></div>
      <div class="footer">
        100٪ جهة العميل، مفتوح المصدر. يعمل بواسطة js-beautify.
      </div>
      <a href="../" id="backBtn">أدوات أخرى</a>
    </div>

    <script>
      function detectType(code) {
        if (
          /^\s*<!DOCTYPE html/i.test(code) ||
          /<html[\s>]/i.test(code) ||
          /<body[\s>]/i.test(code) ||
          /<head[\s>]/i.test(code) ||
          /<div[\s>]/i.test(code) ||
          /<style[\s>]/i.test(code) ||
          /<script[\s>]/i.test(code)
        )
          return "html";
        if (
          /^[\s\S]*?\{[\s\S]*?\}[\s;]*$/.test(code) &&
          /^[\s\S]*?[\.\#a-zA-Z0-9\-]+\s*\{[\s\S]*?\}/.test(code)
        )
          return "css";
        if (
          /\b(function|var|let|const|=>|import |export |require\(|if\s*\(|for\s*\(|while\s*\(|console\.|window\.|document\.|class\s+\w+)/.test(
            code
          )
        )
          return "js";
        return "html";
      }

      document.getElementById("beautifyBtn").onclick = function () {
        var code = document.getElementById("inputArea").value;
        var outputArea = document.getElementById("outputArea");
        var infoMsg = document.getElementById("infoMsg");
        if (!code.trim()) {
          infoMsg.textContent = "يرجى لصق الكود أولاً.";
          outputArea.value = "";
          return;
        }
        let indent_char = "\t",
          indent_size = 1;
        var type = detectType(code);
        var beautified = "";
        try {
          if (type === "html") {
            beautified = html_beautify(code, {
              indent_size: indent_size,
              indent_char: indent_char,
              wrap_line_length: 120,
              unformatted: [],
              preserve_newlines: true,
              content_unformatted: []
            });
          } else if (type === "css") {
            beautified = css_beautify(code, {
              indent_size: indent_size,
              indent_char: indent_char
            });
          } else if (type === "js") {
            beautified = js_beautify(code, {
              indent_size: indent_size,
              indent_char: indent_char,
              max_preserve_newlines: 2
            });
          }
          outputArea.value = beautified;
          infoMsg.textContent =
            "تم التجميل! (" + type.toUpperCase() + ", " + beautified.length + " حرف)";
        } catch (e) {
          infoMsg.textContent = "خطأ: " + (e.message || e);
          outputArea.value = "";
        }
      };

      document.getElementById("copyBtn").onclick = function () {
        var outputArea = document.getElementById("outputArea");
        outputArea.select();
        document.execCommand("copy");
        document.getElementById("infoMsg").textContent = "تم النسخ!";
      };
    </script>

    <section
      style="
        max-width: 320px;
        margin: 48px auto 24px auto;
        background: #1e1e1e;
        border-radius: 18px;
        box-shadow: 0 6px 24px #1236;
        padding: 20px;
        font-family: Arial, sans-serif;
        color: #f0f0f0;
        direction: rtl;
        text-align: right;
      ">
      <div style="color: #8f94fb; font-size: 1.1em; font-weight: bold; margin-bottom: 12px">
        الأسئلة الشائعة – المجمّل الذكي
      </div>
      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">س: ما لغات البرمجة المدعومة؟</div>
        <div style="color: #f0f0f0">
          يدعم HTML وCSS وJavaScript. يتم الكشف عن اللغة تلقائيًا بناءً على المحتوى.
        </div>
      </div>
      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">س: ما نوع المسافة البادئة المستخدمة؟</div>
        <div style="color: #f0f0f0">
          يتم استخدام مسافة تبويب فقط. هذا الأداة توحد التنسيق باستخدام التبويبات وليس الفراغات.
        </div>
      </div>
      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">س: هل من الآمن لصق الكود هنا؟</div>
        <div style="color: #f0f0f0">
          نعم. تتم جميع عمليات التجميل محليًا في المتصفح. لا يتم رفع أو حفظ أي شيء، لذا يتم حماية خصوصيتك تمامًا.
        </div>
      </div>
      <div style="margin-bottom: 12px">
        <div style="color: #8f94fb; font-weight: bold">س: كيف أنسخ الكود المجمّل؟</div>
        <div style="color: #f0f0f0">
          بعد الضغط على زر "تجميل"، اضغط على زر "نسخ" لنسخ النتيجة إلى الحافظة.
        </div>
      </div>
      <div style="margin-bottom: 0">
        <div style="color: #8f94fb; font-weight: bold">س: هل يمكن تنسيق الكود التالف أو الجزئي؟</div>
        <div style="color: #f0f0f0">
          نعم. طالما أن الأداة تستطيع تحليل الكود إلى حد ما، فحتى الكتل الجزئية من الكود يمكن تنسيقها وإعادة تبويبها.
        </div>
      </div>
    </section>
  </body>
</html>
