<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Password Generator ‚Äì Strong & Custom Passwords Online</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Create strong, random passwords. Add your own words if desired! No upload, no tracking. 100% browser-based." />
        <meta
            name="keywords"
            content="password generator, random password, secure password, custom password, online, privacy" />
        <meta name="author" content="Itagi" />
        <meta name="language" content="en" />
        <link rel="canonical" href="https://emfls.github.io/util/passwordgen/" />
        <link rel="icon" href="https://emfls.github.io/icon-192.png" />
        <meta property="og:title" content="Password Generator ‚Äì Strong & Custom Passwords Online" />
        <meta
            property="og:description"
            content="Generate secure passwords instantly. Add your own words for extra memory. 100% browser-based." />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://emfls.github.io/util/passwordgen/" />
        <meta property="og:image" content="https://emfls.github.io/thumbnail.png" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="Password Generator ‚Äì Strong & Custom Passwords Online" />
        <meta
            name="twitter:description"
            content="Create strong random passwords ‚Äì add custom words or phrases. No upload, no tracking!" />
        <meta name="twitter:image" content="https://emfls.github.io/thumbnail.png" />
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-QP5Q67GE5B"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-QP5Q67GE5B");
        </script>
        <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8830524482034754"
            crossorigin="anonymous"></script>
        <style>
            body {
                background: #f6fcff;
                margin: 0;
                font-family: "Segoe UI", Arial, sans-serif;
            }
            .container {
                max-width: 410px;
                margin: 38px auto 0 auto;
                background: #fff;
                border-radius: 18px;
                box-shadow: 0 4px 22px #197a9033;
                padding: 30px 14px 24px 14px;
            }
            .logo {
                text-align: center;
                color: #0c7fc2;
                font-size: 1.35em;
                font-weight: bold;
                margin-bottom: 7px;
            }
            .desc {
                color: #19788a;
                text-align: center;
                margin-bottom: 18px;
                font-size: 1.03em;
            }
            .form-group {
                margin-bottom: 18px;
            }
            label {
                display: block;
                color: #13647d;
                font-size: 0.99em;
                margin-bottom: 5px;
            }
            input[type="number"],
            input[type="text"] {
                width: 100%;
                box-sizing: border-box;
                border-radius: 7px;
                border: 1.2px solid #b5e2f2;
                font-size: 1.05em;
                padding: 9px;
                background: #fafdff;
                margin-bottom: 6px;
            }
            .options {
                display: flex;
                flex-wrap: wrap;
                gap: 13px;
                margin-bottom: 10px;
            }
            .options label {
                font-size: 0.97em;
                margin-bottom: 0;
                color: #22777a;
            }
            .pw-row {
                display: flex;
                align-items: center;
                background: #f2faff;
                border-radius: 8px;
                border: 1px solid #a6e6f0;
                margin-bottom: 12px;
                padding: 10px 9px;
                font-size: 1.19em;
                word-break: break-all;
                position: relative;
            }
            .pw-row.copied {
                background: #e6ffec;
                border-color: #17b089;
            }
            .copy-btn {
                background: #17b089;
                color: #fff;
                border: none;
                border-radius: 6px;
                padding: 6px 13px;
                cursor: pointer;
                font-size: 1em;
                font-weight: bold;
                margin-left: 9px;
                transition: background 0.16s;
            }
            .copy-btn:active {
                background: #108969;
            }
            .hint {
                color: #29b48a;
                font-size: 0.96em;
                margin-bottom: 7px;
                text-align: center;
            }
            .footer {
                color: #789;
                text-align: center;
                font-size: 0.94em;
                margin-top: 22px;
            }
            @media (max-width: 600px) {
                .container {
                    max-width: 99vw;
                    padding: 12px 2vw 14px 2vw;
                }
                .pw-row {
                    font-size: 1em;
                }
            }
            #backBtn {
                position: fixed;
                left: 50%;
                bottom: 32px;
                transform: translateX(-50%);
                background: #13b6a7;
                color: #fff;
                font-weight: 700;
                border: none;
                border-radius: 2rem;
                padding: 0.58em 1.5em;
                box-shadow: 0 4px 16px #13d2b066;
                font-size: 1.09em;
                text-decoration: none;
                cursor: pointer;
                letter-spacing: 0.01em;
                transition:
                    background 0.15s,
                    transform 0.12s;
                z-index: 2000;
            }
            #backBtn:hover {
                background: #0e8078;
                transform: translateX(-50%) scale(1.04);
            }
            @media (max-width: 600px) {
                #backBtn {
                    bottom: 18px;
                    font-size: 0.98em;
                    padding: 0.48em 1em;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="logo">üîê Password Generator</div>
            <div class="desc">
                Instantly create strong, secure passwords.<br />
                <b>Optionally include your own word or phrase!</b>
            </div>
            <form id="pwForm" autocomplete="off">
                <div class="form-group">
                    <label for="pwLength">Password length</label>
                    <input type="number" id="pwLength" min="6" max="50" value="14" />
                </div>
                <div class="form-group">
                    <label for="userText">Include your own word/phrase <span class="hint">(Optional)</span></label>
                    <input type="text" id="userText" placeholder="(e.g. coffee, cat123, !happy)" maxlength="30" />
                </div>
                <div class="form-group">
                    <label for="excludeText"
                        >Exclude these characters <span class="hint">(Optional ‚Äì e.g. @0OIl1)</span></label
                    >
                    <input type="text" id="excludeText" placeholder="Characters NOT to include" maxlength="40" />
                </div>
                <div class="options">
                    <label><input type="checkbox" id="optUpper" checked /> Uppercase</label>
                    <label><input type="checkbox" id="optLower" checked /> Lowercase</label>
                    <label><input type="checkbox" id="optNum" checked /> Numbers</label>
                    <label><input type="checkbox" id="optSpecial" checked /> Special</label>
                </div>
                <button type="submit" class="copy-btn" style="width: 100%; margin-top: 7px">Generate Password</button>
            </form>
            <div class="pw-row" id="pwRow" style="display: none">
                <span id="pwOutput"></span>
                <button class="copy-btn" id="copyBtn" style="margin-left: auto">Copy</button>
            </div>
            <div class="hint" id="pwHint"></div>
            <div class="footer">
                100% browser-based. Nothing is ever uploaded.<br />
                Create memorable, strong passwords with your own twist!
            </div>
            <a href="../index.html" id="backBtn">Other Util</a>
        </div>
        <script>
            // Charsets
            const UPPER = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            const LOWER = "abcdefghijklmnopqrstuvwxyz";
            const NUM = "0123456789";
            const SPECIAL = "!@#$%^&*()-_=+[]{}|;:,.<>?/";

            function getCharset(opts, excludeSet) {
                let set = "";
                if (opts.upper) set += UPPER;
                if (opts.lower) set += LOWER;
                if (opts.num) set += NUM;
                if (opts.special) set += SPECIAL;
                // Exclude unwanted characters
                if (excludeSet.size > 0) {
                    set = Array.from(set)
                        .filter((ch) => !excludeSet.has(ch))
                        .join("");
                }
                return set || LOWER; // at least lowercase
            }

            function randomPassword(len, opts, userWord, excludeSet) {
                const charset = getCharset(opts, excludeSet);
                if (charset.length === 0) return "";
                let baseLen = len;
                let insertWord = userWord && userWord.length > 0 ? userWord : "";
                if (insertWord.length > 0) {
                    baseLen -= insertWord.length;
                    if (baseLen < 2) baseLen = 2;
                }
                let pwArr = [];
                for (let i = 0; i < baseLen; ++i) {
                    pwArr.push(charset[Math.floor(Math.random() * charset.length)]);
                }
                // Insert user word at random position
                if (insertWord.length > 0) {
                    const pos = Math.floor(Math.random() * (pwArr.length + 1));
                    pwArr.splice(pos, 0, insertWord);
                }
                return pwArr.join("");
            }

            // UI logic
            const pwForm = document.getElementById("pwForm");
            const pwLength = document.getElementById("pwLength");
            const userText = document.getElementById("userText");
            const excludeText = document.getElementById("excludeText");
            const optUpper = document.getElementById("optUpper");
            const optLower = document.getElementById("optLower");
            const optNum = document.getElementById("optNum");
            const optSpecial = document.getElementById("optSpecial");
            const pwRow = document.getElementById("pwRow");
            const pwOutput = document.getElementById("pwOutput");
            const pwHint = document.getElementById("pwHint");
            const copyBtn = document.getElementById("copyBtn");

            pwForm.onsubmit = function (e) {
                e.preventDefault();
                const len = Math.max(6, Math.min(50, parseInt(pwLength.value, 10) || 14));
                const opts = {
                    upper: optUpper.checked,
                    lower: optLower.checked,
                    num: optNum.checked,
                    special: optSpecial.checked
                };
                let userWord = userText.value || "";
                let excludeSet = new Set((excludeText.value || "").split(""));
                if (userWord) {
                    // Ensure userWord's letters aren't in exclude list
                    userWord = Array.from(userWord)
                        .filter((ch) => !excludeSet.has(ch))
                        .join("");
                }
                let pw = randomPassword(len, opts, userWord, excludeSet);
                pwOutput.textContent = pw;
                pwRow.style.display = "flex";
                let hintArr = [];
                if (userText.value) hintArr.push("Your word/phrase is included.");
                if (excludeText.value) hintArr.push("Excluded: " + excludeText.value.split("").join(" "));
                pwHint.textContent = hintArr.join(" | ");
                pwRow.classList.remove("copied");
            };

            copyBtn.onclick = function () {
                const pw = pwOutput.textContent;
                if (!pw) return;
                // Try Clipboard API
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(pw).then(() => {
                        pwRow.classList.add("copied");
                        pwHint.textContent = "Copied!";
                        setTimeout(() => {
                            pwRow.classList.remove("copied");
                            pwHint.textContent = "";
                        }, 1200);
                    }, fallbackCopy);
                } else {
                    fallbackCopy();
                }
                function fallbackCopy() {
                    const textarea = document.createElement("textarea");
                    textarea.value = pw;
                    textarea.style.position = "fixed";
                    textarea.style.left = "-9999px";
                    document.body.appendChild(textarea);
                    textarea.focus();
                    textarea.select();
                    try {
                        document.execCommand("copy");
                        pwRow.classList.add("copied");
                        pwHint.textContent = "Copied!";
                        setTimeout(() => {
                            pwRow.classList.remove("copied");
                            pwHint.textContent = "";
                        }, 1200);
                    } catch (e) {
                        pwHint.textContent = "Copy failed. Please copy manually.";
                    }
                    document.body.removeChild(textarea);
                }
            };
        </script>
    </body>
</html>
