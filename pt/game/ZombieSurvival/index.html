<!doctype html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <title>ğŸ§Ÿ SobrevivÃªncia Zumbi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QP5Q67GE5B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-QP5Q67GE5B");
    </script>
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8830524482034754"
      crossorigin="anonymous"></script>
    <!-- SEO e metadados sociais -->
    <meta
      name="description"
      content="Sobreviva o mÃ¡ximo de tempo possÃ­vel em um apocalipse zumbi baseado em texto. Eventos aleatÃ³rios, gerenciamento de inventÃ¡rio e ataques de zumbis perigosos. Jogo gratuito de navegador." />
    <meta
      name="keywords"
      content="zumbi, sobrevivÃªncia, apocalipse, jogo web, jogo de texto, navegador, grÃ¡tis" />
    <meta name="author" content="Itagi" />
    <meta name="language" content="pt" />
    <meta name="theme-color" content="#191d22" />
    <link rel="canonical" href="https://emfls.github.io/pt/game/ZombieSurvival/" />
    <link rel="icon" href="https://emfls.github.io/icon-192.png" />
    <!-- Open Graph (Facebook, Kakao, etc) -->
    <meta property="og:title" content="SobrevivÃªncia Zumbi â€“ Jogo de Texto" />
    <meta
      property="og:description"
      content="Quantos dias vocÃª sobreviverÃ¡ ao apocalipse zumbi? Gerencie seus itens, explore e evite a morte. Jogo 100% no navegador, sem registro." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://emfls.github.io/pt/game/ZombieSurvival/" />
    <meta property="og:image" content="https://emfls.github.io/thumbnail.png" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SobrevivÃªncia Zumbi â€“ Jogo de Texto" />
    <meta
      name="twitter:description"
      content="Sobreviva o mÃ¡ximo de tempo possÃ­vel ao apocalipse zumbi. Jogo gratuito no navegador, sem downloads." />
    <meta name="twitter:image" content="https://emfls.github.io/thumbnail.png" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="container">
      <h2>ğŸ§Ÿ SobrevivÃªncia Zumbi</h2>
      <div id="status"></div>
      <div id="inventory"></div>
      <div id="log"></div>
      <div id="actions"></div>
    </div>
    <!-- Modal de detalhes do item -->
    <div id="itemDescBg">
      <div id="itemDescModal">
        <button class="close" onclick="closeDesc()">&times;</button>
        <div id="itemDescText"></div>
      </div>
    </div>
    <button
      style="
        background: white;
        padding: 19px 20px 20px 20px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 90%;
        max-width: 400px;
        position: fixed;
        color: black;
        font-weight: bold;
        bottom: 50px;
      "
      onclick="window.location.href='/'">
      ğŸ“‚ Outros jogos
    </button>
    <script>
      // DefiniÃ§Ã£o de itens (chave, tipo, efeito, texto, descriÃ§Ã£o)
      const ITEM_LIST = [
        {
          key: "ğŸPÃ£o",
          type: "food",
          effect: () => {
            state.hunger = clamp(state.hunger - 22, 0, 100);
          },
          text: "(-22 Fome)",
          desc: "PÃ£o. Reduz muito a sensaÃ§Ã£o de fome."
        },
        {
          key: "ğŸ’§Ãgua",
          type: "drink",
          effect: () => {
            state.hunger = clamp(state.hunger - 13, 0, 100);
          },
          text: "(-13 Fome)",
          desc: "Ãgua. Reduz um pouco a sensaÃ§Ã£o de fome."
        },
        {
          key: "ğŸ¥ªSanduÃ­che",
          type: "food",
          effect: () => {
            state.hunger = clamp(state.hunger - 35, 0, 100);
          },
          text: "(-35 Fome)",
          desc: "SanduÃ­che. Reduz muito a sensaÃ§Ã£o de fome."
        },
        {
          key: "ğŸ¥¤Refrigerante",
          type: "drink",
          effect: () => {
            state.mental = clamp(state.mental + 7, 0, 100);
            state.hunger = clamp(state.hunger - 7, 0, 100);
          },
          text: "(+7 SaÃºde mental, -7 Fome)",
          desc: "Refrigerante. Melhora um pouco o humor e reduz algo da fome."
        },
        {
          key: "ğŸ«Lanche",
          type: "food",
          effect: () => {
            state.hunger = clamp(state.hunger - 12, 0, 100);
          },
          text: "(-12 Fome)",
          desc: "Lanche. Reduz algo da sensaÃ§Ã£o de fome."
        },
        {
          key: "ğŸMaÃ§Ã£",
          type: "food",
          effect: () => {
            state.hunger = clamp(state.hunger - 11, 0, 100);
          },
          text: "(-11 Fome)",
          desc: "MaÃ§Ã£. Reduz algo da sensaÃ§Ã£o de fome."
        },
        {
          key: "ğŸ’ŠAnalgÃ©sico",
          type: "heal",
          effect: () => {
            state.mental = clamp(state.mental + 22, 0, 100);
          },
          text: "(+22 SaÃºde mental)",
          desc: "AnalgÃ©sico. Recupera bastante saÃºde mental."
        },
        {
          key: "ğŸ§°Bandagem",
          type: "heal",
          effect: () => {
            state.hp = clamp(state.hp + 17, 0, 100);
          },
          text: "(+17 HP)",
          desc: "Bandagem. Recupera saÃºde fÃ­sica."
        },
        {
          key: "ğŸ”ªFaca",
          type: "weapon",
          effect: () => {},
          text: "Arma",
          desc: "Faca. Reduz o dano ao enfrentar zumbis."
        },
        {
          key: "ğŸ”§Chave inglesa",
          type: "weapon",
          effect: () => {},
          text: "Arma",
          desc: "Chave inglesa. Reduz o dano ao enfrentar zumbis."
        },
        {
          key: "ğŸ”¦Lanterna",
          type: "tool",
          effect: () => {
            state.mental = clamp(state.mental + 5, 0, 100);
          },
          text: "(+5 SaÃºde mental)",
          desc: "Lanterna. Recupera um pouco de saÃºde mental."
        },
        { key: "ğŸª™Moeda", type: "misc", effect: () => {}, text: "Apenas uma moeda", desc: "Moeda. NÃ£o serve para nada por enquanto." },
        {
          key: "ğŸ“±Telefone",
          type: "misc",
          effect: () => {},
          text: "NÃ£o funciona",
          desc: "Telefone. NÃ£o tem bateria."
        }
      ];

      // DefiniÃ§Ã£o de localizaÃ§Ãµes (nome, itens possÃ­veis, probabilidade de zumbi)
      const LOC_POOL = [
        { name: "ğŸ  Casa", item: ["ğŸPÃ£o", "ğŸ¥¤Refrigerante", "ğŸ“±Telefone", "ğŸ”ªFaca"], zombie: 18 },
        { name: "ğŸª Loja", item: ["ğŸ¥ªSanduÃ­che", "ğŸ’§Ãgua", "ğŸ«Lanche", "ğŸ’ŠAnalgÃ©sico", "ğŸª™Moeda"], zombie: 22 },
        { name: "ğŸš— Beco", item: ["ğŸ”§Chave inglesa", "ğŸ§°Bandagem", "ğŸ’§Ãgua", "ğŸMaÃ§Ã£"], zombie: 33 },
        { name: "ğŸ¢ EscritÃ³rio", item: ["ğŸ«Lanche", "ğŸ’ŠAnalgÃ©sico", "ğŸ”¦Lanterna"], zombie: 15 },
        { name: "ğŸ Parque", item: ["ğŸMaÃ§Ã£", "ğŸ’§Ãgua", "ğŸª™Moeda"], zombie: 8 },
        { name: "ğŸ« Escola", item: ["ğŸPÃ£o", "ğŸ«Lanche", "ğŸ“±Telefone"], zombie: 17 },
        { name: "ğŸš RuÃ­na", item: ["ğŸ”ªFaca", "ğŸ§°Bandagem"], zombie: 28 },
        { name: "ğŸ¥ Hospital", item: ["ğŸ’ŠAnalgÃ©sico", "ğŸ§°Bandagem", "ğŸ”¦Lanterna"], zombie: 18 },
        { name: "ğŸ­ FÃ¡brica", item: ["ğŸ”§Chave inglesa", "ğŸ”¦Lanterna"], zombie: 26 },
        { name: "ğŸš‰ MetrÃ´", item: ["ğŸ«Lanche", "ğŸ“±Telefone"], zombie: 20 },
        { name: "ğŸ” Restaurante", item: ["ğŸPÃ£o", "ğŸ¥ªSanduÃ­che", "ğŸ¥¤Refrigerante"], zombie: 19 },
        { name: "â›½ Posto de gasolina", item: ["ğŸ”§Chave inglesa", "ğŸ’§Ãgua", "ğŸª™Moeda"], zombie: 23 },
        { name: "ğŸ›’ Supermercado", item: ["ğŸPÃ£o", "ğŸMaÃ§Ã£", "ğŸ¥¤Refrigerante", "ğŸ’§Ãgua"], zombie: 21 },
        { name: "ğŸ¨ Hotel", item: ["ğŸ«Lanche", "ğŸ’§Ãgua", "ğŸ§°Bandagem"], zombie: 18 },
        { name: "ğŸ§‘â€ğŸ”§ Oficina", item: ["ğŸ”§Chave inglesa", "ğŸª™Moeda"], zombie: 28 }
      ];

      // Seleciona aleatoriamente 4 ou 5 localizaÃ§Ãµes
      function randomPlaces(n = 4) {
        let arr = LOC_POOL.slice();
        arr.sort(() => Math.random() - 0.5);
        return arr.slice(0, n + Math.floor(Math.random() * 2)); // 4 ou 5 lugares
      }

      // Estado do jogo
      let state = {
        hp: 100,
        hunger: 35,
        mental: 55,
        day: 1,
        items: { "ğŸPÃ£o": 5, "ğŸ’§Ãgua": 5, "ğŸ’ŠAnalgÃ©sico": 5 },
        alive: true,
        searching: false,
        locations: randomPlaces(),
        died: false
      };

      // Converte inventÃ¡rio para string
      function invStr(obj) {
        let out = [];
        for (let k of Object.keys(obj)) if (obj[k] > 0) out.push(`${k} x${obj[k]}`);
        return out.length ? out.join(", ") : "Nenhum";
      }
      function clamp(val, min, max) {
        return Math.max(min, Math.min(max, val));
      }

      const logEl = document.getElementById("log");
      const statusEl = document.getElementById("status");
      const inventoryEl = document.getElementById("inventory");
      const actionsEl = document.getElementById("actions");
      const itemDescBg = document.getElementById("itemDescBg");
      const itemDescText = document.getElementById("itemDescText");

      function render() {
        statusEl.innerHTML = `<div style="font-size:1.09em;"><b>Dia ${state.day}</b></div>
         <div id="barGroup">
           <div class="bar"><span class="fill-hp" style="width:${state.hp}%"></span></div>
           <div class="bar"><span class="fill-hunger" style="width:${clamp(100 - state.hunger, 0, 100)}%"></span></div>
           <div class="bar"><span class="fill-mental" style="width:${state.mental}%"></span></div>
         </div>
         <div style="font-size:0.97em; margin:0 2px 0 2px;">
            â¤ï¸HP ${state.hp} &nbsp;|&nbsp; ğŸFome ${state.hunger} &nbsp;|&nbsp; ğŸ§ SaÃºde mental ${state.mental}
         </div>`;
        inventoryEl.innerHTML = `<b>ğŸ’ InventÃ¡rio:</b> ${invStr(state.items)}`;
        if (!state.alive) {
          actionsEl.innerHTML = `<button class="actBtn" onclick="restart()">Reiniciar</button>`;
        } else if (state.searching) {
          actionsEl.innerHTML =
            state.locations
              .map((loc, i) => `<button class="locBtn" onclick="searchPlace(${i})">${loc.name}</button>`)
              .join("") + `<button class="actBtn" onclick="cancelSearch()">Cancelar</button>`;
        } else {
          actionsEl.innerHTML = `
          <button class="actBtn" onclick="startSearch()" ${state.locations.length == 0 ? 'disabled style="opacity:0.5;"' : ""}>ğŸ” Explorar</button>
          <button class="actBtn" onclick="rest()">ğŸ› Descansar</button>
          <button class="actBtn" onclick="move()">â¡ï¸ Mover</button>
          <button class="actBtn" onclick="useItem()">ğŸ’ Usar item</button>
        `;
        }
      }

      function log(msg, type = "") {
        let d = document.createElement("div");
        d.innerHTML = msg;
        if (type) d.classList.add(type);
        logEl.appendChild(d);
        logEl.scrollTop = logEl.scrollHeight;
        if (type) setTimeout(() => d.classList.remove(type), 400);
      }

      function nextDay() {
        state.day++;
        state.hunger += 10;
        state.mental -= 4;
        if (state.hunger >= 95) {
          state.hp -= 15;
          log("ğŸ˜– <b>Â¡Com fome!</b> (-15 HP)", "event");
        }
        if (state.hp <= 0 || state.mental <= 0) {
          state.alive = false;
          log(`<b>Jogo terminado: vocÃª sobreviveu <span style="color:#e9f85b">${state.day - 1}</span> dias.</b>`, "event");
        }
        render();
      }

      // ---- AÃ§Ãµes ----
      function startSearch() {
        state.searching = true;
        render();
        log("Escolha um lugar para explorar...");
      }
      function cancelSearch() {
        state.searching = false;
        render();
      }
      function searchPlace(idx) {
        let loc = state.locations[idx];
        log(`ğŸ” Explorando <b>${loc.name}</b>...`);
        // 52% encontrar item, probabilidade de zumbi do local%
        if (Math.random() * 100 < 52) {
          let found = loc.item[Math.floor(Math.random() * loc.item.length)];
          state.items[found] = (state.items[found] || 0) + 1;
          let itemInfo = ITEM_LIST.find((x) => x.key === found);
          log(
            `<span class="item-anim">âœ¨ VocÃª encontrou: <b>${found}</b> <span style="font-size:0.88em;color:#ffd;">${itemInfo ? itemInfo.text : ""}</span></span>`,
            "event"
          );
        } else if (Math.random() * 100 < loc.zombie) {
          encounterZombie(loc.name);
          if (!state.alive) return;
        } else {
          log("VocÃª nÃ£o encontrou nada.");
        }
        // Remover lugar
        state.locations.splice(idx, 1);
        state.searching = false;
        nextDay();
      }
      function rest() {
        log("ğŸ› VocÃª descansou. +13 ğŸ§ SaÃºde mental, +12 â¤ï¸HP, +9 Fome");
        state.mental = clamp(state.mental + 13, 0, 100);
        state.hp = clamp(state.hp + 12, 0, 100);
        state.hunger += 9;
        nextDay();
      }
      function move() {
        log("â¡ï¸ VocÃª se moveu para uma nova Ã¡rea. -2 ğŸ§ SaÃºde mental");
        state.mental -= 2;
        state.locations = randomPlaces();
        if (Math.random() * 100 < 22) {
          encounterZombie("cidade");
          if (!state.alive) return;
        }
        nextDay();
      }
      function useItem() {
        let keys = Object.keys(state.items).filter((k) => state.items[k] > 0);
        if (!keys.length) {
          log("ğŸ’ VocÃª nÃ£o tem itens para usar.");
          return;
        }
        actionsEl.innerHTML =
          keys
            .map((item, i) => {
              let info = ITEM_LIST.find((x) => x.key === item);
              return `<button class="locBtn" onclick="chooseItem('${item}')">${item} x${state.items[item]} <span style="font-size:0.8em;color:#ffc;">${info ? info.text : ""}</span></button>`;
            })
            .join("") + `<button class="actBtn" onclick="render()">Cancelar</button>`;
      }
      function chooseItem(item) {
        state.items[item]--;
        let info = ITEM_LIST.find((x) => x.key === item);
        if (info) info.effect();
        log(
          `<span class="item-anim">${item} usado. <span style="font-size:0.9em;color:#ffd;">${info ? info.text : ""}</span></span>`
        );
        render();
      }
      function encounterZombie(place) {
        let baseHp = 14 + Math.floor(Math.random() * 12); // 14â€“25
        let baseMental = 8 + Math.floor(Math.random() * 8); // 8â€“15
        let weapon = Object.keys(state.items).find(
          (x) => (x.includes("Faca") || x.includes("Chave inglesa")) && state.items[x] > 0
        );
        let hpLoss = weapon ? Math.floor(baseHp * 0.5) : baseHp;
        let mLoss = weapon ? Math.floor(baseMental * 0.7) : baseMental;
        if (weapon) {
          log(
            `<span class="zombie-anim">ğŸ§Ÿ <b>VocÃª encontrou um zumbi!</b> (${place})<br>VocÃª o afugentou com ${weapon}. <span style="color:#fd7;">(-${hpLoss} HP, -${mLoss} SaÃºde mental)</span></span>`,
            "event"
          );
        } else {
          log(
            `<span class="zombie-anim">ğŸ§Ÿ <b>VocÃª encontrou um zumbi!</b> (${place})<br>VocÃª foi ferido. <span style="color:#fd7;">(-${hpLoss} HP, -${mLoss} SaÃºde mental)</span></span>`,
            "event"
          );
        }
        state.hp -= hpLoss;
        state.mental -= mLoss;
        if (state.hp <= 0 || state.mental <= 0) {
          state.alive = false;
          log(`<b>Jogo terminado: vocÃª sobreviveu <span style="color:#e9f85b">${state.day}</span> dias.</b>`, "event");
          render();
        }
      }
      // Mostrar detalhes do item
      function showDesc(item) {
        let info = ITEM_LIST.find((x) => x.key === item);
        if (!info) return;
        itemDescText.innerHTML = `<b>${item}</b><br><span style="font-size:1.07em;color:#fe9;">${info.desc || ""}</span><br><span style="color:#ffec;">Efeito: ${info.text || ""}</span>`;
        itemDescBg.style.display = "flex";
      }
      function closeDesc() {
        itemDescBg.style.display = "none";
      }

      // -------- InicializaÃ§Ã£o --------
      render();
      log("Um novo sobrevivente chegou Ã  cidade...");
      function restart() {
        state = {
          hp: 100,
          hunger: 35,
          mental: 55,
          day: 1,
          items: { "ğŸPÃ£o": 5, "ğŸ’§Ãgua": 5, "ğŸ’ŠAnalgÃ©sico": 5 },
          alive: true,
          searching: false,
          locations: randomPlaces(),
          died: false
        };
        logEl.innerHTML = "";
        render();
        log("Um novo sobrevivente chegou Ã  cidade...");
      }
    </script>
    <section
      style="
        max-width: 320px;
        width: 100%;
        margin: 48px auto 24px auto;
        margin-top: 300px;
        background: #1e1e1e;
        border-radius: 18px;
        box-shadow: 0 6px 24px #1236;
        padding: 20px;
        font-family: Arial, sans-serif;
      ">
      <div style="margin-bottom: 12px">
        <h3 style="color: #8f94fb; font-size: 1.1em; margin-bottom: 6px">ğŸ§Ÿ O que Ã© SobrevivÃªncia Zumbi?</h3>
        <p style="color: #f0f0f0; font-size: 0.95em; margin: 0">
          SobrevivÃªncia Zumbi Ã© um jogo de sobrevivÃªncia baseado em texto onde vocÃª deve gerenciar sua fome, saÃºde mental e saÃºde fÃ­sica durante um apocalipse zumbi. Explore locais, colete itens e sobreviva o mÃ¡ximo de tempo possÃ­vel.
        </p>
      </div>
      <div style="margin-bottom: 12px">
        <h3 style="color: #8f94fb; font-size: 1.1em; margin-bottom: 6px">ğŸ—ºï¸ Como jogar?</h3>
        <p style="color: #f0f0f0; font-size: 0.95em; margin: 0">
          Use os botÃµes na parte inferior: "Explorar", "Descansar", "Mover" ou "Usar item". Explorar pode te dar objetos ou fazer vocÃª encontrar zumbis.
        </p>
      </div>
      <div style="margin-bottom: 12px">
        <h3 style="color: #8f94fb; font-size: 1.1em; margin-bottom: 6px">ğŸ’ O que sÃ£o os itens?</h3>
        <p style="color: #f0f0f0; font-size: 0.95em; margin: 0">
          Os itens podem recuperar saÃºde, reduzir a fome ou melhorar sua saÃºde mental. Armas como a faca ou a chave inglesa reduzem o dano dos zumbis.
        </p>
      </div>
      <div style="margin-bottom: 12px">
        <h3 style="color: #8f94fb; font-size: 1.1em; margin-bottom: 6px">ğŸ§  O que acontece se minha saÃºde mental ou fÃ­sica chegar a 0?</h3>
        <p style="color: #f0f0f0; font-size: 0.95em; margin: 0">
          Se sua saÃºde fÃ­sica ou mental chegar a 0, o jogo termina. A fome aumenta a cada dia e se vocÃª chegar a um certo nÃ­vel, perderÃ¡ saÃºde fÃ­sica.
        </p>
      </div>
      <div style="margin-bottom: 0">
        <h3 style="color: #8f94fb; font-size: 1.1em; margin-bottom: 6px">ğŸ” Posso reiniciar ao morrer?</h3>
        <p style="color: #f0f0f0; font-size: 0.95em; margin: 0">
          Sim! Ao morrer vocÃª verÃ¡ um botÃ£o "Reiniciar". Tente sobreviver mais tempo com melhores decisÃµes.
        </p>
      </div>
    </section>
  </body>
</html>
